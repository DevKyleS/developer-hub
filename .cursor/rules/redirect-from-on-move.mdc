---
description: Add redirect_from frontmatter when moving or renaming doc files
globs: docs/**/*.md
alwaysApply: false
---

# Redirect from on Move

When **moving** or **renaming** a doc file under `docs/`, add `redirect_from` to the **destination** file's frontmatter so the old URL continues to work.

## Rule

1. **After moving/renaming a doc:** In the destination file's YAML frontmatter, add (or append to) `redirect_from` with the previous path under `/docs/`.

2. **Path format:** Use the path as it would appear in the URL (no leading slash in frontmatter for Docusaurus, or with leading slash depending on pluginâ€”this project's plugin expects paths that get written to `_redirects`; use the full path from site root):
   - Old file: `docs/infra-as-code-management/get-started/onboarding-guide.md`  
   - Add: `/docs/infra-as-code-management/get-started/onboarding-guide`

3. **Multiple old paths:** If the file had multiple previous locations or aliases, add each as a list item under `redirect_from`.

## Example

**Before (destination file after move):**
```yaml
---
title: Get started with IaCM
description: A self-service onboarding guide for Harness IaCM.
sidebar_position: 20
---
```

**After (with redirect_from added):**
```yaml
---
title: Get started with IaCM
description: A self-service onboarding guide for Harness IaCM.
sidebar_position: 20
redirect_from:
  - /docs/infra-as-code-management/get-started/onboarding-guide
---
```

## When to apply

- User says they are moving, renaming, or relocating a doc.
- You rename or move a file under `docs/` (e.g. from `onboarding-guide.md` to `get-started.md`, or to another folder).
- A refactor moves a doc to a new path; add the old path to `redirect_from` in the new file.

## Optional

For important or cross-section moves, also add the same redirect in `_server-redirects` (Netlify format: `old_path new_path`) so redirects are defined in both the build output and the static redirect list.
